const SigtapProcedimentos={API_URL:"https://sigtap.gtmedics.com",Toast:Swal.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:2500,timerProgressBar:!0,width:"300px",customClass:{popup:"text-xs rounded-xl shadow-lg",title:"text-xs font-semibold"}}),initSearch(t){let e=this;return new TomSelect(t,{valueField:"codigo",labelField:"nome",searchField:["nome","codigo"],load:function(t,o){if(t.length<3)return o();fetch(`${e.API_URL}/procedimentos_sigtap?q=${encodeURIComponent(t)}`).then(t=>t.json()).then(t=>{if(t.detail)return o();o(t)}).catch(()=>o())},render:{option:function(t,e){return`<div class="py-2 px-2 border-b border-gray-50 hover:bg-gray-50">
                        <div class="font-bold text-slate-700 text-xs">${e(t.codigo)}</div>
                        <div class="text-slate-500 text-xs truncate">${e(t.nome)}</div>
                    </div>`},item:function(t,e){return`<div class="flex gap-2 items-center">
                        <span class="font-bold text-blue-600">${e(t.codigo)}</span>
                        <span class="truncate">${e(t.nome)}</span>
                    </div>`}},onChange:function(t){let o=this.options[t],i=document.getElementById("resultado-procedimento"),n=document.getElementById("texto-procedimento");t&&o?(i.classList.remove("hidden"),n.dataset.fullContent=`${o.codigo} - ${o.nome}`,n.innerHTML=`<span class="font-bold">${o.codigo}</span> - ${o.nome}`,e.Toast.fire({icon:"success",title:"Procedimento selecionado!"})):i.classList.add("hidden")},placeholder:"Busque procedimento (min. 3 letras)...",plugins:["remove_button"],maxOptions:50})},copiar(){let t=document.getElementById("texto-procedimento"),e=t?.dataset.fullContent;e&&navigator.clipboard.writeText(e).then(()=>{this.Toast.fire({icon:"success",title:"Copiado para \xe1rea de transfer\xeancia!"})}).catch(t=>{this.Toast.fire({icon:"error",title:"Erro ao copiar"})})}};